(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{29:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(22),c=n.n(a),o=n(8),i=n(23),d=n(3),l=n(5),j=n.n(l),u=(n(29),n(10)),b=n.n(u);n(54),n(55);var O=n(0);function v(){return Object(O.jsxs)("div",{class:"center",children:[Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"}),Object(O.jsx)("div",{class:"wave"})]})}var x=function(e){var t=e.products,n=e.oldRows,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.a.useState(t),s=Object(d.a)(n,2),a=s[0],c=s[1];return{items:r.a.useMemo((function(){var t=Object(i.a)(e);return null!==a&&t.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:0})),t}),[e,a]),requestSort:function(e){var t="ascending";a&&a.key===e&&"ascending"===a.direction&&(t="descending"),c({key:e,direction:t})},sortConfig:a}}(t),c=a.items,o=a.requestSort,l=a.sortConfig,j=Object(s.useMemo)((function(){return[{Header:"NAME",accessor:"name"},{Header:"MARKET CAP",accessor:"marketCap"},{Header:"FLOOR",accessor:"floor"},{Header:"SALES",accessor:"sales"},{Header:"VOLUME",accessor:"volume"}]}),[]),u=function(e){if(l)return l.key===e?l.direction:void 0};return Object(O.jsxs)("table",{children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:j.map((function(e){return Object(O.jsx)("th",{children:Object(O.jsx)("button",{type:"button",onClick:function(){return o(e.accessor)},className:u(e.accessor),children:e.Header})})}))})}),Object(O.jsx)("tbody",{children:c.map((function(e,t){var s=function(e,t,s){console.log(n,"0-0-0-0");var r=0,a=0;return n.length>0&&n.forEach((function(n){n.name==e.name&&(r=(parseFloat(e[t])-parseFloat(n[t]))/parseFloat(n[t])*100,a=(parseFloat(e[s])-parseFloat(n[s]))/parseFloat(n[s])*100)})),[r.toFixed(2),a.toFixed(2)]}(e,"sales","volume");return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[Object(O.jsx)("img",{src:e.url}),Object(O.jsx)("span",{children:e.name}),Object(O.jsx)("span",{children:e.isVerified?"\u2705":""})]}),Object(O.jsx)("td",{children:e.marketCap.toFixed(2)}),Object(O.jsx)("td",{children:e.floor.toFixed(2)}),Object(O.jsxs)("td",{children:[Object(O.jsx)("div",{children:e.sales}),Object(O.jsxs)("div",{className:s[0]>=0?0!=s[0]?"green-text":"grey-text":"red-text",children:[s[0],"%"]})]}),Object(O.jsxs)("td",{children:[Object(O.jsx)("div",{children:e.volume.toFixed(2)}),Object(O.jsxs)("div",{className:s[1]>=0?0!=s[1]?"green-text":"grey-text":"red-text",children:[s[1],"%"]})]})]},t)}))})]})};function p(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)([]),i=Object(d.a)(c,2),l=i[0],u=i[1],p=Object(s.useState)(!0),f=Object(d.a)(p,2),m=f[0],h=f[1],g=function(){var e=Object(o.a)(j.a.mark((function e(t,n,s){var r,a,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query TrendingCollections {\n      contracts(first: 100, orderBy: SALES, orderDirection: DESC) {\n        edges {\n          node {\n            address\n            isVerified\n            ... on ERC721Contract {\n              name\n              stats(\n                timeRange: {\n                  gte: "'.concat(t,'"\n                  lt: "').concat(n,'"\n                }\n              ) {\n                totalSales\n                average\n                ceiling\n                floor\n                volume\n              }\n              symbol\n              unsafeOpenseaBannerImageUrl\n              unsafeOpenseaImageUrl\n            }\n          }\n        }\n      }\n    }'),a={operationName:"TrendingCollections",query:r,variables:{}},e.next=4,b()({url:"https://corsproblemsolve.herokuapp.com/https://graphql.icy.tools/graphql",method:"post",data:a,headers:{"Content-Type":"application/json","x-api-key":"c13f5041da834792851381b2a19fb364"}});case 4:"200"==(c=e.sent).status&&(o=c.data.data.contracts.edges.map((function(e){var t=e.node,n=t.name,s=t.stats,r=t.unsafeOpenseaImageUrl;return{name:n,marketCap:s.average*s.totalSales,floor:s.floor,sales:s.totalSales,volume:s.volume,url:r,isVerified:e.node.isVerified}}))),s(o),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}();r.a.useEffect((function(){y(1)}),[]);var y=function(e){h(!0);var t=new Date,n=t.getTime(),s=24*e*3600*1e3,r=new Date(n-s),c=new Date(n-2*s),o=(t=new Date(t)).toISOString(),i=r.toISOString(),d=c.toISOString();g(i,o,a),g(d,i,u)};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)("button",{className:"dropbtn",children:"Select Duration"}),Object(O.jsxs)("div",{className:"dropdown-content",children:[Object(O.jsx)("button",{type:"button",onClick:function(){return y(1)},children:"1 Day"}),Object(O.jsx)("button",{type:"button",onClick:function(){return y(7)},children:"1 Week"})]})]}),0==m?Object(O.jsx)(x,{products:n,oldRows:l}):Object(O.jsx)(v,{})]})}var f=document.getElementById("root");c.a.render(Object(O.jsx)(s.StrictMode,{children:Object(O.jsx)(p,{})}),f)}},[[57,1,2]]]);
//# sourceMappingURL=main.b6bba9b3.chunk.js.map